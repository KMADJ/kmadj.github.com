<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>斌斌学院5</title>
		<style type="text/css">
			#ul1{
				position: relative;
				height: 120px;
			}
			#ul1 li {
				color: white;
				background: red;
				position:absolute;
				bottom: 0px;
				width: 20px;
				margin: 5px;
				list-style: none;
			}
		</style>
		<script type="text/javascript">
			window.onload = function() {

				var aInp = document.getElementsByTagName('input');
				
				var oUl = document.getElementById('ul1');
				
				var aLi = oUl.getElementsByTagName('li');
               
				aInp[1].onclick = function() {

					//alert(typeof parseFloat(aInp[0].value));
					if(parseFloat(aInp[0].value) > 0 && parseFloat(aInp[0].value) < 100) {

						var oLi = document.createElement('li');

						oLi.style.height = aInp[0].value + 'px';
						
						oLi.innerHTML = '  ';

						if(oUl.children[0]) {
							
							oUl.insertBefore(oLi, oUl.children[0]);
							
						} else {
							
							oUl.appendChild(oLi);
							
						}

						aInp[0].value = '';
						
						cliRankRemove();

					} else {
						
						alert('请输入0-100之间的数字');
						
					}

				}

				aInp[2].onclick = function() {

					if(parseFloat(aInp[0].value) > 0 && parseFloat(aInp[0].value) < 100) {

						var oLi = document.createElement('li');

						oLi.style.height = aInp[0].value + 'px';
						
						oLi.innerHTML = '  ';

						oUl.appendChild(oLi);

						aInp[0].value = '';
						
						cliRankRemove();	
						
					} else {
						
						alert('请输入0-100之间的数字');
						
					}

				}
				aInp[3].onclick = function() {

					cliRankRemove(oUl.firstElementChild);
					
				}
				aInp[4].onclick = function() {

					cliRankRemove(oUl.lastElementChild);
					
				}
                
                aInp[5].onclick=function(){
                	
                	for(var i=0;i<aLi.length;i++){
                		
                		for(var j=i;j<aLi.length;j++){
                			
                			if(aLi[i].offsetHeight>aLi[j].offsetHeight){
                				
                				//alert(1);
                				var trans=aLi[i].offsetHeight;
                				
                				aLi[i].style.height=aLi[j].offsetHeight+'px';
                				
                				aLi[j].style.height=trans+'px';
                			}                			
                		}
                	}              
                }
				function cliRankRemove(obj) {
					for(var i = 0; i < aLi.length; i++) {
						
                        aLi[i].style.left = i*25+5+'px';
                        
						aLi[i].onclick = function() {
							
                            alert('删除元素的高度为：'+oUl.lastElementChild.offsetHeight);
                            
							oUl.removeChild(this);
							
						}
					}
					if(obj){
						
						alert('删除元素的高度为：'+obj.offsetHeight);
						
					    oUl.removeChild(obj);
					    
					    aInp[0].value = '';
					}
				}
			}
		</script>
	</head>

	<body>
		<input type="text" id="input" value="" />
		<input type="button" value="左侧入" id="in-left" />
		<input type="button" value="右侧入" id="in-right" />
		<input type="button" value="左侧出" id="out-left" />
		<input type="button" value="右侧出" id="out-right" />

		<ul id="ul1">

		</ul>
        <input type="button" value="排序" id="do-rank" />
	</body>

</html>